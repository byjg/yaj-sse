<html>

<head>
    <script src="yaj.js"></script>
    <script src="../node_modules/yaj/yaj.min.js"></script>
    <script>
        console.log('-- START --');
        var w = new SSE('sse-server.php', {
            onOpen: function (e) {
                console.log("Open");
                console.log(e);
            },
            onEnd: function (e) {
                console.log("End");
                console.log(e);
            },
            onError: function (e) {
                console.log("Could not connect");
            },
            onMessage: function (e) {
                console.log("Message");
                console.log(e);
            },
            options: {
                forceAjax: false
            },
            events: {
                myEvent: function (e) {
                    console.log('Custom Event');
                    console.log(e);
                }
            },
//            headers: {
//                'Authorization': 'Bearer 000000000000000000000'
//            }
        });
        console.log(w.start());
        console.log('-- END --');
    </script>


</head>

<body>
<h1>Actions</h1>

<input type="button" value="Start Listen" onclick="w.start()"/>
<input type="button" value="Stop Listen" onclick="w.stop()"/>

</body>

</html>
